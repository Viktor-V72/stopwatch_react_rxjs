{"version":3,"sources":["App.js","click.js","index.js"],"names":["App","useState","time","setTime","timerOn","setTimerOn","useEffect","action","Subject","interval","pipe","takeUntil","subscribe","val","next","complete","handleWait","actionDoubleClick","delay","click","setClick","timer","setTimeout","clearTimeout","prev","useDoubleClick","className","Math","floor","slice","onClick","prevState","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+OAsFeA,MAvEf,WACE,MAAwBC,mBAAS,GAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAEAC,qBAAU,WACR,IAAMC,EAAS,IAAIC,IAQnB,OAPAC,YAAS,IACNC,KAAKC,YAAUJ,IACfK,WAAU,WACLR,GACFD,GAAQ,SAACU,GAAD,OAASA,EAAM,QAGtB,WACLN,EAAOO,OACPP,EAAOQ,cAER,CAACX,IAEJ,IAIMY,ECpCO,SAAwBC,GAAiC,IAAdC,EAAa,uDAAL,IAChE,EAA0BjB,mBAAS,GAAnC,mBAAOkB,EAAP,KAAcC,EAAd,KAYA,OAVAd,qBAAU,WACR,IAAMe,EAAQC,YAAW,WACvBF,EAAS,KACRF,GAIH,OAFc,IAAVC,GAAaF,IAEV,kBAAMM,aAAaF,MACzB,CAACF,IAEG,kBAAMC,GAAS,SAACI,GAAD,OAAUA,EAAO,MDuBpBC,EAAe,kBAAMpB,GAAW,MAcnD,OACE,qCACE,2CACA,sBAAKqB,UAAU,UAAf,UACE,kCACI,IAAMC,KAAKC,MAAO1B,EAAI,KAAuB,KAAK2B,OAAO,GAD7D,OAGA,kCAAQ,IAAMF,KAAKC,MAAM1B,EAAO,MAAO2B,OAAO,GAA9C,OACA,gCAAQ,IAAMF,KAAKC,MAAO1B,EAAO,IAAO,KAAK2B,OAAO,SAGpDzB,GACA,wBAAQsB,UAAU,QAAQI,QA9BZ,WAClBzB,GAAW,SAAC0B,GAAD,OAAgBA,MA6BvB,mBAKD3B,GACC,wBAAQsB,UAAU,OAAOI,QA9BZ,WACjB3B,EAAQ,GACRE,GAAW,IA4BP,kBAKF,wBAAQqB,UAAU,OAAOI,QAASd,EAAlC,kBAIA,wBAAQU,UAAU,QAAQI,QAlCV,WACL,IAAT5B,IAGJC,EAAQ,GACRE,GAAW,KA6BT,uBE1EN2B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.008e4163.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { of, interval, concat, Subject } from \"rxjs\";\nimport {\n  takeWhile,\n  takeUntil,\n  scan,\n  startWith,\n  repeatWhen,\n  share,\n  filter,\n} from \"rxjs/operators\";\nimport useDoubleClick from \"./click\";\n\nimport \"./styles.css\";\n\nfunction App() {\n  const [time, setTime] = useState(0);\n  const [timerOn, setTimerOn] = useState(false);\n\n  useEffect(() => {\n    const action = new Subject();\n    interval(10)\n      .pipe(takeUntil(action))\n      .subscribe(() => {\n        if (timerOn) {\n          setTime((val) => val + 1);\n        }\n      });\n    return () => {\n      action.next();\n      action.complete();\n    };\n  }, [timerOn]);\n\n  const handleStart = () => {\n    setTimerOn((prevState) => !prevState);\n  };\n\n  const handleWait = useDoubleClick(() => setTimerOn(false));\n\n  const handleStop = () => {\n    setTime(0);\n    setTimerOn(false);\n  };\n\n  const handleReset = () => {\n    if (time === 0) {\n      return;\n    }\n    setTime(0);\n    setTimerOn(true);\n  };\n  return (\n    <>\n      <h2>Stopwatch</h2>\n      <div className=\"display\">\n        <span>\n          {(\"0\" + Math.floor((time / (1000 * 60 * 60)) % 24)).slice(-2)}:\n        </span>\n        <span>{(\"0\" + Math.floor(time / 6000)).slice(-2)}:</span>\n        <span>{(\"0\" + Math.floor((time / 100) % 60)).slice(-2)}</span>\n      </div>\n\n      {!timerOn && (\n        <button className=\"start\" onClick={handleStart}>\n          Start\n        </button>\n      )}\n\n      {timerOn && (\n        <button className=\"stop\" onClick={handleStop}>\n          Stop\n        </button>\n      )}\n\n      <button className=\"wait\" onClick={handleWait}>\n        Wait\n      </button>\n\n      <button className=\"reset\" onClick={handleReset}>\n        Reset\n      </button>\n    </>\n  );\n}\n\nexport default App;\n","import { useState, useEffect } from \"react\";\r\n\r\nexport default function useDoubleClick(actionDoubleClick, delay = 300) {\r\n  const [click, setClick] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setClick(0);\r\n    }, delay);\r\n\r\n    if (click === 2) actionDoubleClick();\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [click]);\r\n\r\n  return () => setClick((prev) => prev + 1);\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}